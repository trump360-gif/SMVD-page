# 관리자 페이지 UI/UX 개선 사항 - 상세 분석 & 의논

## 📋 전체 요청사항 정리

### **1️⃣ 모달 이름 변경** ✅ (간단함)

**현재:**
- `/admin/dashboard/work` → `WorkBlogModal` 컴포넌트
- `/admin/dashboard/news` → `NewsBlogModal` 컴포넌트

**변경 제안:**
```
WorkBlogModal → "Work상세페이지 작성 모달" (또는 WorkDetailModal)
NewsBlogModal → "News상세페이지 작성 모달" (또는 NewsDetailModal)
```

**파일 변경:**
- `src/components/admin/work/WorkBlogModal.tsx` (Line 301)
- `src/components/admin/news/NewsBlogModal.tsx` (Line X)

**난이도:** ⭐ (매우 간단 - 이름만 변경)

---

## 🎨 **2️⃣ 기본정보 탭 구성 통일** ⚠️ (논의 필요)

### 현재 상태 (구조 비교)

#### **Work 기본정보 탭 구성:**
```
┌─────────────────────────────────────┐
│ 제목 (2/3)         │ 카테고리 (1/3) │  [grid-cols-3]
├─────────────────────────────────────┤
│ 부제목 (전체)                        │
├─────────────────────────────────────┤
│ 작가 (1/3) │ 이메일 (1/3) │ 연도 (1/3) │ [grid-cols-3]
├─────────────────────────────────────┤
│ 태그 (전체, 쉼표로 구분)             │
├─────────────────────────────────────┤
│ 썸네일 (전체, URL 입력)              │
│ [썸네일 미리보기]                    │
├─────────────────────────────────────┤
│ ☑ 공개                              │
└─────────────────────────────────────┘
```

**Work 필드:**
- 제목, 카테고리, 부제목, 작가, 이메일, 연도, 태그, 썸네일, 공개 여부

---

#### **News 기본정보 탭 구성:**
```
┌─────────────────────────────────────┐
│ 제목 (2/3)         │ 카테고리 (1/3) │  [grid-cols-3]
├─────────────────────────────────────┤
│ 요약 (목록에 표시됨, textarea)       │
│ [2줄 높이]                          │
├─────────────────────────────────────┤
│ 썸네일 (1/2) │ 발행 날짜 (1/2)     │  [grid-cols-2]
│ [미리보기]   │ [date picker]       │
├─────────────────────────────────────┤
│ ☑ 공개 (공개 상태)                  │
└─────────────────────────────────────┘
```

**News 필드:**
- 제목, 카테고리, 요약, 썸네일, 발행 날짜, 공개 여부

---

### 문제점 & 개선 방안

#### **A. 구조가 다르다**
| 항목 | Work | News |
|------|------|------|
| 제목+카테고리 | ✅ | ✅ |
| 부제목 | ✅ | ❌ |
| 요약 | ❌ | ✅ |
| 작가 | ✅ | ❌ |
| 이메일 | ✅ | ❌ |
| 연도 | ✅ | ❌ |
| 태그 | ✅ | ❌ |
| 썸네일 | ✅ | ✅ |
| 발행 날짜 | ❌ | ✅ |
| 공개 여부 | ✅ | ✅ |

#### **B. 사용자 의견**
> "기본정보 탭의 구성이 다르게 보이는데 통일시켜보는 작업을 해볼래?"

---

### 🤔 **통일 방안 (3가지 옵션)**

#### **옵션 1: Work/News 별 필드 유지 + 레이아웃만 통일** ✅ (권장)
```
장점:
- 각 페이지의 고유 특성 유지 (Work은 작가/이메일/태그, News는 발행날짜)
- 레이아웃 구조만 통일하면 됨 (consistent grid, spacing)
- 기능 변경 최소화

구현:
┌───────────────────────────────────┐
│ 제목 (2/3)    │ 카테고리 (1/3)   │
├───────────────────────────────────┤
│ [페이지별 필드1]                  │
├───────────────────────────────────┤
│ [페이지별 필드2]                  │
├───────────────────────────────────┤
│ [공통 필드들]                     │
└───────────────────────────────────┘
```

**Work 필드 순서:**
1. 제목 + 카테고리
2. 부제목
3. 작가 + 이메일 + 연도
4. 태그
5. 썸네일
6. 공개 여부

**News 필드 순서:**
1. 제목 + 카테고리
2. 요약 (또는 삭제/자동생성)
3. 썸네일 + 발행 날짜
4. 공개 여부

---

#### **옵션 2: 모든 필드를 두 곳 모두에 통합**
```
장점:
- 완벽한 통일
- 일관된 구조

단점:
- News에는 불필요한 필드 많음 (작가, 이메일, 태그 등)
- 복잡도 증가
- UX 악화 (불필요한 입력 필드 많음)

미권장 ❌
```

---

#### **옵션 3: 공통 필드만 남기기**
```
공통: 제목, 카테고리, 썸네일, 공개 여부
Work 전용: 부제목, 작가, 이메일, 연도, 태그
News 전용: 요약, 발행 날짜

단점:
- News의 구조가 너무 단순해짐
- 향후 News 필드 추가 시 혼란
```

---

## 🎯 **권장 안:** 옵션 1 (Work/News 별 필드 유지 + 레이아웃만 통일)

**구현 방식:**
1. 공통 레이아웃 구조 (grid-cols-3 기본, 필요시 grid-cols-2)
2. spacing, padding, 라벨 스타일 통일
3. 각 페이지의 고유 필드는 그대로 유지
4. 페이지별 `InfoForm` 컴포넌트는 유지 (Work은 인라인, News는 별도 컴포넌트)

---

## 📌 **3️⃣ "요약 (목록에 표시됨)" 필드 개선** ⚠️ (논의 필요)

### 현재 상태
```typescript
// News ArticleInfoForm.tsx Line 69-80
<textarea
  value={excerpt}
  onChange={(e) => onExcerptChange(e.target.value)}
  placeholder="목록 보기에 표시할 간단한 설명 (최대 2줄)..."
  rows={2}
/>
```

### 사용자 의견
> "사실 그냥 본문 내용에서 몇 자만 가져오면 될 것 같아서 굳이 필요할까 싶은데"

### 3가지 개선 옵션

#### **옵션 A: 자동 생성 + 수동 편집 (권장)** ✅
```typescript
// 저장 전에 자동으로 생성 (본문 first 100 chars)
if (!excerpt.trim() && blocks.length > 0) {
  const firstTextBlock = blocks.find(b => b.type === 'text');
  if (firstTextBlock?.content) {
    excerpt = firstTextBlock.content.substring(0, 100);
  }
}

// UI: 자동생성된 텍스트 표시 + 수동 편집 가능
<div>
  <label>요약 (목록에 표시됨)</label>
  <textarea
    placeholder="비워두면 본문 첫 100자로 자동 생성됩니다"
  />
  {autoGenerated && <span className="text-xs text-gray-500">자동 생성됨</span>}
</div>
```

**장점:**
- 수동 입력 불필요 (작성 시간 절감)
- 필요시 수정 가능
- 목록 미리보기에 항상 표시됨

**단점:**
- 로직 추가 필요

---

#### **옵션 B: 필드 삭제** ⚠️
```
장점:
- UI 단순화
- 작성 시간 절감

단점:
- 목록에 본문 미리보기가 없음
- 나중에 필요할 때 데이터 복구 어려움

미권장 (기능 제거)
```

---

#### **옵션 C: 그대로 유지** ❌
```
현재 상태 유지 - 개선 없음
```

---

## 🎯 **권장 안:** 옵션 A (자동 생성 + 수동 편집)

**이유:**
- 관리자의 작업 부담 감소
- 목록 미리보기 확보
- 선택적 수정 가능

**구현:**
- `NewsArticleModal` 내 submit 로직에 자동생성 로직 추가
- UI에 "자동 생성됨" 배지 표시

---

## 🖼️ **4️⃣ 썸네일 드래그앤드롭 변경** ⭐ (높은 우선순위)

### 현재 상태
```typescript
// Work: Line 440-447
<input
  id="wb-thumb"
  type="text"
  value={thumbnailImage}
  onChange={(e) => setThumbnailImage(e.target.value)}
  placeholder="/images/work/portfolio-1.png"
/>

// News: Line 89-96
<input
  id="nb-thumbnail"
  type="text"
  value={thumbnailImage}
  onChange={(e) => onThumbnailImageChange(e.target.value)}
  placeholder="/Group-27.svg"
/>
```

**문제점:**
- URL 수동 입력 필요
- 경로 오류 위험 높음
- 관리자 UX 나쁨

### 개선 방안 (드래그앤드롭)

**참고:** 프로젝트에 이미 있는 드래그앤드롭 이미지 업로드
- `src/components/admin/shared/ImageUploadDropZone.tsx` 검토 필요
- 또는 `HeroImageBlockEditor`에서 사용하는 이미지 선택 방식 참고

**구현 방식:**
```typescript
// 1. 드래그앤드롭 영역
<div
  className="border-2 border-dashed rounded-lg p-6"
  onDrop={handleImageDrop}
  onDragOver={(e) => e.preventDefault()}
>
  이미지를 여기로 드래그하거나 클릭하여 선택
</div>

// 2. 파일 업로드 후 경로 저장
const handleImageDrop = async (files: File[]) => {
  const formData = new FormData();
  formData.append('file', files[0]);
  const res = await fetch('/api/upload', { method: 'POST', body: formData });
  const { path } = await res.json();
  setThumbnailImage(path);
}

// 3. 미리보기 (현재대로 유지)
{thumbnailImage && (
  <div className="mt-2 w-20 h-20 bg-gray-100 rounded-lg overflow-hidden">
    <img src={thumbnailImage} alt="Thumbnail" className="w-full h-full object-cover" />
  </div>
)}
```

**난이도:** ⭐⭐⭐ (중간 - 파일 업로드 API 연동 필요)

---

## 🌍 **5️⃣ 한글화 작업** ⭐⭐ (진행 중인 부분)

### 한글화 필요 항목

#### **A. BlockEditor 버튼 텍스트**
```typescript
// 현재: 영문
"Add Block" → "블록 추가"
"Add Row"   → "행 추가"
"Row"       → "행"
"Col"       → "열"
"Columns"   → "레이아웃 모드"  // 사용자 제안

// 파일: src/components/admin/shared/BlockEditor/BlockEditorPanel.tsx
// 또는: src/components/admin/shared/BlockEditor/BlockLayoutVisualizer.tsx
```

#### **B. 블록 타입 이름 한글화**
```typescript
// 현재: 영문 약자
"hero-image"      → "히어로 이미지"
"text"            → "텍스트"
"image-grid"      → "이미지 갤러리"
"image-row"       → "이미지 행"
"layout-row"      → "행 레이아웃"
"layout-grid"     → "그리드 레이아웃"
"video"           → "비디오"
등등...
```

#### **C. 메뉴 오버 설명** (사용자 제안)
> "블록 메뉴 활설화 된 후에 마우스 커서를 올리면 어떤 블록인지도 설명해줘야 될 것 같다"

**구현:**
```typescript
// 현재: 블록 타입만 표시
<button>{blockType}</button>

// 개선: 설명 추가 (Tooltip 또는 작은 모달)
<button title="텍스트 블록 - 제목, 본문, 설명 등의 텍스트를 추가합니다">
  {blockType}
</button>

// 또는 Tooltip with descriptions:
const BLOCK_DESCRIPTIONS = {
  'hero-image': '페이지 상단의 큰 배경 이미지와 텍스트',
  'text': '제목, 본문, 설명 등의 텍스트 콘텐츠',
  'image-grid': '여러 이미지를 갤러리 형식으로 배열',
  // ...
}
```

**난이도:** ⭐⭐ (간단함 - 텍스트 변경만)

---

## 🖼️ **6️⃣ "image column layout (1cols, 2cols, 3cols)" 기능 확인** ⚠️ (논의 필요)

### 현재 상태
```
사용자 의견:
"가운데 영역에서 보면 image column layout 1cols, 2cols, 3cols,이 부분
기능 안하는거 같은데 확인해보고 삭제해도 되면 기능 삭제해줘"
```

**확인할 사항:**
1. 코드에서 `1cols`, `2cols`, `3cols` 검색
2. 현재 기능 동작 확인
3. 사용 중인지 확인
4. 삭제 가능하면 제거

**파일 위치:**
- `src/components/admin/shared/BlockEditor/` 내 이미지 관련 렌더러/에디터

---

## 🎨 **7️⃣ 이미지 관련 모달 통합** ⚠️ (중요 - 논의 필요)

### 현재 상태
```
사용자 의견:
"이미지 관련 모달이 내가 확인한것만 3개는 되는것 같은데
1개로 통합한다거나 어떤 유형으로 쓰고싶은지 선택하게 해주는거 어떤지 의논해보자"
```

### 3가지 이미지 모달 찾아내기

**필요한 작업:**
1. 프로젝트에서 모든 이미지 관련 모달/다이얼로그 찾기
   ```bash
   grep -r "image" src/components/admin --include="*Modal*"
   ```
2. 각 모달의 용도, 기능, 차이점 분석
3. 통합 방안 제시

**예상되는 모달:**
- HeroImageBlockEditor의 이미지 선택 모달
- ImageGridBlockEditor의 이미지 추가 모달
- 썸네일 이미지 선택 모달
등등...

**통합 아이디어:**
```typescript
// 1개의 통합 이미지 선택 모달 생성
<ImagePickerModal
  mode="single" | "multiple" | "hero"
  onSelect={(images) => { ... }}
/>

// 사용처마다 다른 `mode` 전달
// mode에 따라 UI/기능이 달라짐
```

---

## 📊 **종합 요약 & 우선순위**

| # | 항목 | 난이도 | 우선순위 | 상태 |
|---|------|--------|---------|------|
| 1️⃣ | 모달 이름 변경 | ⭐ | 🔵 낮음 | ✅ 간단함 |
| 2️⃣ | 기본정보 탭 통일 | ⭐⭐⭐ | 🟡 중간 | ✅ 옵션 1 권장 |
| 3️⃣ | "요약" 필드 개선 | ⭐⭐ | 🟡 중간 | ✅ 옵션 A 권장 |
| 4️⃣ | 썸네일 드래그앤드롭 | ⭐⭐⭐ | 🔴 높음 | ✅ ImageUploadField 재사용 |
| 5️⃣ | 한글화 작업 | ⭐⭐ | 🔴 높음 | ✅ 진행 중 |
| 6️⃣ | image column layout 확인 | ⭐ | 🔵 낮음 | ✅ **정상 작동함!** |
| 7️⃣ | 이미지 모달 통합 | ⭐⭐⭐⭐ | 🟡 중간 | ✅ **3개 찾음!** |

---

## 🔍 **발견 사항 (추가 분석)**

### **A. Image Column Layout (1cols, 2cols, 3cols)**

**위치:** `src/components/admin/shared/BlockEditor/blocks/ImageGridBlockEditor.tsx` Line 444-454

```typescript
<select
  value={row.columns}
  onChange={(e) => handleUpdateRowColumns(row.id, parseInt(e.target.value) as 1 | 2 | 3)}
>
  <option value="1">1 Column</option>
  <option value="2">2 Columns</option>
  <option value="3">3 Columns</option>
</select>
```

**상태:** ✅ **완벽히 작동함!**
- Grid CSS: `gridTemplateColumns: repeat(${row.columns}, 1fr)` (Line 473)
- 이미지 배치도 정상 작동
- **결론: 삭제 금지! 정상 기능입니다.**

---

### **B. 이미지 관련 모달/필드 - 3개 발견**

**1️⃣ 썸네일 이미지 (Work/News 모달)**
- **위치:** `WorkBlogModal.tsx` Line 440-448, `ArticleInfoForm.tsx` Line 89-101
- **입력 방식:** URL 텍스트 입력 + 미리보기
- **문제점:** 수동 입력 복잡, 경로 오류 위험
- **개선:** `ImageUploadField` 재사용으로 드래그앤드롭 추가

**2️⃣ Hero Image Block (콘텐츠 - 히어로 이미지)**
- **위치:** `blocks/HeroImageBlockEditor.tsx` Line 1-100+
- **입력 방식:** `ImageUploadField` 사용 (드래그앤드롭 + 파일 선택)
- **상태:** ✅ 이미 우수한 UX

**3️⃣ Image Grid Block (콘텐츠 - 갤러리)**
- **위치:** `blocks/ImageGridBlockEditor.tsx` Line 99-105
- **입력 방식:** URL 텍스트 입력 (각 이미지마다)
- **문제점:** URL 수동 입력만 가능, 드래그앤드롭 미지원
- **개선 가능:** `ImageUploadField`로 업그레이드 가능

**→ 통합 전략:**
```
현재 상태:
- 2번 (HeroImageBlockEditor): 좋음 ✓
- 1번 (썸네일): 개선 필요 ✗
- 3번 (ImageGridBlockEditor): 개선 필요 ✗

개선 방안:
1. ImageUploadField를 "통합 이미지 선택 컴포넌트"로 선언
2. 썸네일 + ImageGridBlockEditor에 적용
3. 모두 일관된 드래그앤드롭 UX 제공
```

---

## 💬 **다음 단계 - 사용자 결정 필요**

각 항목에 대한 확정을 요청합니다:

```
Q1. 기본정보 탭 통일: 옵션 1 (Work/News 필드 유지 + 레이아웃만 통일) 진행?
    → 추정 시간: 1시간

Q2. "요약" 필드: 옵션 A (자동생성 + 수동편집) 진행?
    → 추정 시간: 30분

Q3. 썸네일: 드래그앤드롭 추가? (ImageUploadField 재사용)
    → 추정 시간: 1시간

Q4. 한글화: 블록 타입 + 버튼 텍스트 + 설명 추가 모두 진행?
    → 추정 시간: 2시간

Q5. Image Column Layout: 삭제하지 않고 유지?
    → **답: 유지! (정상 기능)**

Q6. 이미지 모달 통합: ImageUploadField를 썸네일 + ImageGrid에 적용?
    → 추정 시간: 1.5시간
```

---

## 📝 **작업 순서 제안**

**1차 (필수):**
1. image column layout 기능 확인 & 삭제
2. 이미지 관련 모달 3개 찾기 & 분석
3. 모달 이름 변경 (간단함)

**2차 (중요):**
4. 기본정보 탭 구성 통일
5. "요약" 필드 자동생성 로직 추가

**3차 (개선):**
6. 썸네일 드래그앤드롭 변경
7. 한글화 완성
8. 이미지 모달 통합

